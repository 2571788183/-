<?xml version="1.0" encoding="UTF-8"?>
 <!--日志级别以及优先级排序: OFF > FATAL > ERROR > WARN > INFO > DEBUG > TRACE > ALL -->
 <configuration status="WARN" monitorInterval="30">
 	<properties>
        <property name="LOG_HOME">src/main/webapp</property>
    </properties>
     <appenders>
         <console name="ConsoleWarn" target="SYSTEM_OUT">
             <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} [%p] - %l ::::: %m%n"/>
	         <ThresholdFilter level="warn" onMatch="ACCEPT" onMismatch="DENY"/>
         </console>
         <console name="ConsoleInfo" target="SYSTEM_OUT">
             <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} [%p] - %c >>>> %m%n"/>
	         <ThresholdFilter level="info" onMatch="ACCEPT" onMismatch="DENY"/>
         </console>
         <console name="ConsoleSqlDebug" target="SYSTEM_OUT">
             <PatternLayout pattern="Mybatis %m%n"/>
	         <ThresholdFilter level="debug" onMatch="ACCEPT" onMismatch="DENY"/>
         </console>
         <RollingFile name="loginAppender" fileName="${LOG_HOME}/log.log" 
         	filePattern="${LOG_HOME}/WEB-INF/logs/log-%d{yyyy-MM-dd}.log">
	        <PatternLayout pattern="%-d{yyyy-MM-dd HH:mm:ss} - [ %p ]  %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1"/>
                <SizeBasedTriggeringPolicy size="100MB"/>
            </Policies>
	        <DefaultRolloverStrategy>
                <Delete basePath="${LOG_HOME}/WEB-INF/logs" maxDepth="2">
                    <IfFileName glob="*.log" />
                    <IfLastModified age="1s" />
                </Delete>
            </DefaultRolloverStrategy>
	     </RollingFile>
     </appenders>
     <loggers>
         <!--过滤掉struts2和hibernate、spring的一些无用的DEBUG信息,
         不想要哪个包的什么级别的控制台log，在logger标签的name里就写这个log的包名就，然后在level里配置更高等级的level就 可以了，意思就是不配置appender就在console里输出-->
         
         <root level="info">
             <appender-ref ref="ConsoleWarn"/>
             <appender-ref ref="ConsoleInfo"/>
         </root>
         
         <logger name="org.springframework" level="INFO"></logger>
         <logger name="org.competition.dao" level="debug"><appender-ref ref="ConsoleSqlDebug"/></logger>
         
         <logger name="login" level="INFO"><appender-ref ref="loginAppender"/></logger>
         <logger name="consoleLoger" level="INFO"><appender-ref ref="ConsoleInfo"/></logger>
     </loggers>
 </configuration>
